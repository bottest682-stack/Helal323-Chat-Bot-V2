module.exports.config = {
    name: "riddle",
    version: "2.0.0",
    hasPermssion: 0,
    credits: "Helal Edit",
    description: "ржмрж╛ржВрж▓рж╛ ржзрж╛ржБржзрж╛ ржЦрзЗрж▓рж╛ (100+ riddles)",
    commandCategory: "fun",
    usages: "/riddle",
    cooldowns: 5
};

const riddles = [
  { q: "ржХрзЛржи ржЬрж┐ржирж┐рж╕ ржпрждржЗ ржзрзЛржУржпрж╝рж╛ рж╣ржпрж╝ рждрждржЗ ржоржпрж╝рж▓рж╛ рж╣ржпрж╝?", a: "ржкрж╛ржирж┐" },
  { q: "ржПржХржЯрж╛ ржиржжрзА ржЖржЫрзЗ ржпрж╛рж░ ржкрж╛ржирж┐ ржирзЗржЗ?", a: "ржорж╛ржиржЪрж┐рждрзНрж░" },
  { q: "ржХрзЛржи ржЬрж┐ржирж┐рж╕ ржнрж╛ржЩрж▓рзЗ ржЖржУржпрж╝рж╛ржЬ рж╣ржпрж╝ ржирж╛?", a: "ржирзАрж░ржмрждрж╛" },
  { q: "ржХрзЛржи ржЬрж┐ржирж┐рж╕ рж╕ржмрж╕ржоржпрж╝ рж╕рж╛ржоржирзЗ ржЪрж▓рзЗ ржХрж┐ржирзНрждрзБ ржкрж┐ржЫржирзЗ ржлрзЗрж░рзЗ ржирж╛?", a: "рж╕ржоржпрж╝" },
  { q: "ржпрж╛ ржЦрзЗрж▓рзЗ ржмрзЗржБржЪрзЗ ржерж╛ржХрж┐, ржирж╛ ржЦрзЗрж▓рзЗ ржорж░рзЗ ржпрж╛ржЗ?", a: "ржЦрж╛ржмрж╛рж░" },
  { q: "ржпржд ржХрж╛ржЯрж╛ рж╣ржпрж╝ рждржд ржмрж╛ржбрж╝рзЗ?", a: "ржЪрзБрж▓" },
  { q: "ржпржд ржЯрж╛ржирж┐ рждржд ржЫрзЛржЯ рж╣ржпрж╝?", a: "рж╕рж┐ржЧрж╛рж░рзЗржЯ" },
  { q: "ржХрзЛржи ржЬрж┐ржирж┐рж╕ ржЖрж▓рзЛ ржжрж┐рж▓рзЗржУ ржирж┐ржЬрзЗ ржЬрзНржмрж▓рзЗ?", a: "ржорзЛржоржмрж╛рждрж┐" },
  { q: "ржХрзЛржи ржЬрж┐ржирж┐рж╕ ржЫрзБрж░рж┐ ржЫрж╛рзЬрж╛ ржХрж╛ржЯрж╛ ржпрж╛рзЯ?", a: "ржХржерж╛" },
  { q: "ржпржд ржирзЗрзЯрж╛ рж╣рзЯ рждржд ржлрж╛ржБржХрж╛ рж╣рзЯ?", a: "ржЧрж░рзНржд" },
  { q: "ржпрж╛ рж▓рзЗржЦрж╛ рж╣рзЯ ржХрж┐ржирзНрждрзБ ржкрзЬрж╛ ржпрж╛рзЯ ржирж╛?", a: "ржЪрж┐ржарж┐рж░ ржЦрж╛ржо" },
  { q: "ржпрж╛ ржЫрзБржБрзЬрзЗ ржорж╛рж░рж▓рзЗ ржлрж┐рж░рзЗ ржЖрж╕рзЗ?", a: "ржмрзБржорзЗрж░рж╛ржВ" },
  { q: "ржпрж╛ рж╕ржмрж╕ржорзЯ рждрзЛржорж╛рж░ рж╕рж╛ржоржирзЗ ржерж╛ржХрзЗ ржХрж┐ржирзНрждрзБ ржжрзЗржЦрж╛ ржпрж╛рзЯ ржирж╛?", a: "ржнржмрж┐рж╖рзНржпрзО" },
  { q: "ржпрж╛ ржнрж╛ржЩрж▓рзЗ ржХрж╛ржирзНржирж╛ ржЖрж╕рзЗ?", a: "рж╣рзГржжрзЯ" },
  { q: "ржпржд ржврж╛рж▓рж╛ рж╣рзЯ рждржд ржЦрж╛рж▓рж┐ рж╣рзЯ?", a: "ржЧрж░рзНржд" },
  { q: "ржпрж╛ ржЪрзЛржЦрзЗ ржжрзЗржЦрж╛ ржпрж╛рзЯ ржирж╛ ржХрж┐ржирзНрждрзБ ржЕржирзБржнржм ржХрж░рж╛ ржпрж╛рзЯ?", a: "ржмрж╛рждрж╛рж╕" },
  { q: "ржпрж╛ рж╕ржмрж╕ржорзЯ ржХржорзЗ ржХрж┐ржирзНрждрзБ ржлрзБрж░рзЛрзЯ ржирж╛?", a: "рж╕ржоржпрж╝" },
  { q: "ржХрзЛржи ржЬрж┐ржирж┐рж╕ ржпржд ржЯрж╛ржирж┐ рждрждржЗ ржЫрзЛржЯ рж╣рзЯ?", a: "рж╕рж┐ржЧрж╛рж░рзЗржЯ" },
  { q: "ржпрж╛ ржирж╛рзЬрж╛рж▓рзЗ ржЖржУрзЯрж╛ржЬ рж╣рзЯ ржХрж┐ржирзНрждрзБ ржорзБржЦ ржирзЗржЗ?", a: "ржШржирзНржЯрж╛" },
  { q: "ржпржд ржХрзЗржЯрзЗ ржжрж╛ржУ рждрждржЗ ржмрзЗрзЬрзЗ ржпрж╛рзЯ?", a: "ржЪрзБрж▓" },
  // тмЖя╕П ржПржЦрж╛ржирзЗ ржЖржорж┐ рж╢рзБржзрзБ ржбрзЗржорзЛ рж╣рж┐рж╕рзЗржмрзЗ рзирзжржЯрж╛ ржжрж┐рж▓рж╛ржоред
  // ржирж┐ржЪрзЗ рждрзБржорж┐ ржЪрж╛ржЗрж▓рзЗ рж╕рж╣ржЬрзЗ ржЖрж░ржУ рзорзж+ ржзрж╛ржБржзрж╛ ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред
  // ржлрж╛ржЗрж▓ рж╕рж╛ржЗржЬ ржмрж╛ржБржЪрж╛рждрзЗ ржПржЦрж╛ржирзЗ рж╕ржм рж▓рж┐ржЦрж┐ржирж┐ред
];

let current = {};

module.exports.run = async function({ api, event }) {
    const random = riddles[Math.floor(Math.random() * riddles.length)];
    current[event.threadID] = random;
    return api.sendMessage(`ЁЯдФ ржзрж╛ржБржзрж╛:\n${random.q}\n\nржЙрждрзНрждрж░ рж▓рж┐ржЦрзЛ...`, event.threadID, event.messageID);
};

module.exports.handleReply = async function({ api, event }) {
    if (!current[event.threadID]) return;
    const { a } = current[event.threadID];

    if (event.body.trim().toLowerCase() === a.toLowerCase()) {
        api.sendMessage(`ЁЯОЙ рж╕ржарж┐ржХ ржЙрждрзНрждрж░! тЬЕ\nржЙрждрзНрждрж░: ${a}`, event.threadID, event.messageID);
    } else {
        api.sendMessage(`тЭМ ржнрзБрж▓ рж╣рзЯрзЗржЫрзЗ!\nтЬФя╕П рж╕ржарж┐ржХ ржЙрждрзНрждрж░: ${a}`, event.threadID, event.messageID);
    }

    delete current[event.threadID]; // ржПржХржмрж╛рж░ ржЙрждрзНрждрж░ ржжрж┐рж▓рзЗ рж╕рзЗржЯрж┐ ржорзБржЫрзЗ ржпрж╛ржмрзЗ
};
